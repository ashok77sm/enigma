pipeline {
   agent {label 'build'}
   parameters {
       choice choices: ['ashok', 'crimson', 'enigma'], name: 'user'
   }
   
      stages {
	      stage('checkout-stage') {
		       steps {
		          echo "This is checkout stage"
			     }  
		    }
		    stage('test-stage') {
                      when {
                         allOf {
                            branch 'dev'
                            expression { params.user == 'crimson' }
                         }
		      }
			      steps { 
			        echo "This is test stage"
			      }  
		     }
	     }
}	 
